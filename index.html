<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <title>Plugin Comprovante Kinbox</title>

    <!-- SDK oficial do Kinbox -->
    <script
      type="text/javascript"
      src="https://andrody.github.io/kinbox-lib/kinboxjs.js"
    ></script>

    <style>
      body {
        font-family: Arial, sans-serif;
        background: #111;
        color: #0f0;
        padding: 10px;
      }
      h2 {
        color: #0ff;
      }
      #log {
        white-space: pre-wrap;
        font-size: 14px;
        line-height: 1.4em;
        background: #000;
        padding: 10px;
        border-radius: 8px;
        max-height: 500px;
        overflow-y: auto;
      }
      .success {
        color: #00ff7f;
        font-weight: bold;
      }
    </style>
  </head>
  <body>
    <h2>ðŸ“¡ Plugin de Captura de Comprovantes</h2>
    <div id="log">Iniciando plugin...</div>

    <!-- FunÃ§Ã£o global de log -->
    <script type="text/javascript">
      function logMsg(msg, obj, success = false) {
        console.log(msg, obj || "")
        const logDiv = document.getElementById("log")
        if (logDiv) {
          const span = document.createElement("div")
          span.innerText = msg + (obj ? " " + JSON.stringify(obj, null, 2) : "")
          if (success) span.classList.add("success")
          logDiv.appendChild(span)
          logDiv.scrollTop = logDiv.scrollHeight
        }
      }
    </script>

    <!-- Importa o plugin -->
    <script type="text/javascript" src="plugin.js"></script>
  </body>
</html>
